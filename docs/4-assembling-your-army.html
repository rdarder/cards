<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Assembling Your Army</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<h1 data-number="4" id="assembling-your-army"><span
class="header-section-number">4</span> Assembling Your Army</h1>
<hr />
<h2 data-number="4.1" id="the-story-so-far-1"><span
class="header-section-number">4.1</span> The Story So Far‚Ä¶</h2>
<p>You‚Äôve successfully crafted the ‚Äúsoul‚Äù of a single creature, storing
all its stats neatly in one table. Your code is clean and organized. But
a master summoner never relies on a single creature; they command an
army! It‚Äôs time to go from one card to a full deck.</p>
<h2 data-number="4.2"
id="the-mission-what-well-accomplish-today-2"><span
class="header-section-number">4.2</span> The Mission: What We‚Äôll
Accomplish Today</h2>
<p>Our main goal is to create a deck of cards. By the end, we‚Äôll have a
program that defines several different cards and bundles them into a
single ‚Äúdeck‚Äù variable. We‚Äôll also take on some challenging side quests
to make our code even more powerful.</p>
<h2 data-number="4.3" id="the-spellbook-new-tools-well-learn-2"><span
class="header-section-number">4.3</span> The Spellbook: New Tools We‚Äôll
Learn</h2>
<p><strong>1. Tables as Lists (The Card Box)</strong></p>
<p>We‚Äôre going to use our trusty <code>table</code> tool in a new way.
Instead of using named keys like <code>name = "..."</code>, we‚Äôre just
going to put our finished card-tables into a list, separated by commas.
Think of it like putting your individual cards into a deck box.</p>
<p>First, we define our individual cards, just like in <a
href="3-crafting-the-cards-soul.html#crafting-the-cards-soul">Crafting
the card‚Äôs soul</a></p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode lua"><code class="sourceCode lua"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">goblin</span> <span class="op">=</span> <span class="op">{</span> <span class="va">name</span> <span class="op">=</span> <span class="st">&quot;Goblin Grunt&quot;</span><span class="op">,</span> <span class="va">life</span> <span class="op">=</span> <span class="dv">5</span><span class="op">,</span> <span class="va">speed</span> <span class="op">=</span> <span class="dv">3</span><span class="op">,</span> <span class="va">attack</span> <span class="op">=</span> <span class="dv">2</span> <span class="op">}</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">golem</span> <span class="op">=</span> <span class="op">{</span> <span class="va">name</span> <span class="op">=</span> <span class="st">&quot;Stone Golem&quot;</span><span class="op">,</span> <span class="va">life</span> <span class="op">=</span> <span class="dv">10</span><span class="op">,</span> <span class="va">speed</span> <span class="op">=</span> <span class="dv">1</span><span class="op">,</span> <span class="va">attack</span> <span class="op">=</span> <span class="dv">1</span> <span class="op">}</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">elf</span> <span class="op">=</span> <span class="op">{</span> <span class="va">name</span> <span class="op">=</span> <span class="st">&quot;Swift Elf&quot;</span><span class="op">,</span> <span class="va">life</span> <span class="op">=</span> <span class="dv">3</span><span class="op">,</span> <span class="va">speed</span> <span class="op">=</span> <span class="dv">5</span><span class="op">,</span> <span class="va">attack</span> <span class="op">=</span> <span class="dv">3</span> <span class="op">}</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">-- Now, we put them all into one &quot;deck&quot; table!</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">deck</span> <span class="op">=</span> <span class="op">{</span> <span class="va">goblin</span><span class="op">,</span> <span class="va">golem</span><span class="op">,</span> <span class="va">elf</span> <span class="op">}</span></span></code></pre></div>
<p><strong>2. Accessing by Index (Picking a Card)</strong></p>
<p>How do you get the second card from the deck? You can‚Äôt use a dot
because there‚Äôs no name. Instead, we use a number in <strong>square
brackets <code>[ ]</code></strong>. This number is called the
<strong>index</strong>.</p>
<p><strong>Important:</strong> In Lua, the first item is at index
<strong>1</strong>.</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode lua"><code class="sourceCode lua"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Get the second card from the deck (the golem)</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">second_card</span> <span class="op">=</span> <span class="va">deck</span><span class="op">[</span><span class="dv">2</span><span class="op">]</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">-- Now we can use dot notation on the card we picked!</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span><span class="op">(</span><span class="st">&quot;The second card&#39;s name is: &quot;</span> <span class="op">..</span> <span class="va">second_card</span><span class="op">.</span><span class="va">name</span><span class="op">)</span> <span class="co">-- Prints &quot;Stone Golem&quot;</span></span></code></pre></div>
<p><strong>3. The Length Operator (Counting Your Cards)</strong></p>
<p>Need to know how many cards are in your deck? Just put a hashtag
<code>#</code> in front of the table‚Äôs name.</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode lua"><code class="sourceCode lua"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span><span class="op">(</span><span class="st">&quot;There are &quot;</span> <span class="op">..</span> <span class="op">#</span><span class="va">deck</span> <span class="op">..</span> <span class="st">&quot; cards in the deck.&quot;</span><span class="op">)</span> <span class="co">-- Prints &quot;3&quot;</span></span></code></pre></div>
<p><strong>4. Conditionals: <code>if/then</code> (Making a
Choice)</strong></p>
<p>To make our program interesting, it needs to make decisions. The
<strong><code>if</code> statement</strong> is our tool for this. It
checks if a condition is <code>true</code>, and if it is, it runs a
block of code.</p>
<p><strong>Analogy:</strong> You look outside and ask a question: ‚ÄúIs it
raining?‚Äù <strong>If</strong> the answer is yes, <strong>then</strong>
you grab an umbrella.</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode lua"><code class="sourceCode lua"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">player_score</span> <span class="op">=</span> <span class="dv">250</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">high_score</span> <span class="op">=</span> <span class="dv">200</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">player_score</span> <span class="op">&gt;</span> <span class="va">high_score</span> <span class="cf">then</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span><span class="op">(</span><span class="st">&quot;You got a new high score!&quot;</span><span class="op">)</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co">-- The code inside only runs because player_score &gt; high_score is true.</span></span></code></pre></div>
<p>The <code>condition</code> is a question that can be answered with
<code>true</code> or <code>false</code>, like <code>speed &gt; 5</code>
or <code>life &lt;= 0</code>. We‚Äôll need this for our next quest.</p>
<h2 data-number="4.4" id="your-quest-assemble-the-deck"><span
class="header-section-number">4.4</span> Your Quest: Assemble the
Deck!</h2>
<p>First, let‚Äôs get the main part done.</p>
<p><strong>Instructions:</strong></p>
<ol type="1">
<li>In your <code>main.lua</code> file, create at least three different
creature cards as table variables (like <code>goblin</code>,
<code>golem</code>, <code>elf</code>, etc.). Give them unique names and
stats.</li>
<li>Create one final table called <code>deck</code> and place your card
variables inside it, just like the example.</li>
<li>Use <code>print()</code> and the index <code>[ ]</code> syntax to
display the name of the <em>second</em> card in your deck.</li>
<li>Use <code>print()</code> and the <code>#</code> operator to display
the total number of cards in the deck.</li>
</ol>
<hr />
<h2 data-number="4.5" id="side-quest-1-a-separate-spellbook"><span
class="header-section-number">4.5</span> Side Quest 1: A Separate
Spellbook üìú</h2>
<p>Your main file is going to get crowded if you define every single
card there. Let‚Äôs move them to their own file!</p>
<p><strong>Instructions:</strong></p>
<ol type="1">
<li>Create a <strong>new file</strong> in the same folder and name it
<code>cards.lua</code>.</li>
<li><strong>Cut</strong> your card definitions from
<code>main.lua</code> and <strong>paste</strong> them into
<code>cards.lua</code>.</li>
<li>In <code>cards.lua</code>, create a master list of all your cards.
At the very end of the file, <strong>return</strong> that list. Your
<code>cards.lua</code> should look like this:
<code>lua     -- cards.lua     local goblin = { name = "Goblin Grunt", life = 5, speed = 3, attack = 2 }     local golem = { name = "Stone Golem", life = 10, speed = 1, attack = 1 }     local elf = { name = "Swift Elf", life = 3, speed = 5, attack = 3 }     local all_cards = { goblin, golem, elf }     return all_cards</code></li>
<li>Now, go back to your <strong><code>main.lua</code></strong> file.
Use a new spell called <strong><code>require</code></strong> to load the
file and get the table it <code>return</code>ed.
<code>lua     -- main.lua     local deck = require("cards")     print("Successfully loaded " .. #deck .. " cards!")     print("The first card is: " .. deck[1].name)</code></li>
</ol>
<hr />
<h2 data-number="4.6" id="side-quest-2-the-speed-trial"><span
class="header-section-number">4.6</span> Side Quest 2: The Speed Trial
üí®</h2>
<p>Now for a real challenge. Your program needs to figure out which card
in the deck is the fastest. We don‚Äôt know loops yet, so we have to do it
manually by comparing the cards one by one.</p>
<p><strong>The Logic:</strong> You need a variable to keep track of the
fastest card you‚Äôve found <em>so far</em>. You start by assuming the
first card is the fastest. Then you use an <strong><code>if</code>
statement</strong> to compare it to the second card. If the second is
faster, it becomes the new ‚Äúfastest so far.‚Äù Then you compare the
current fastest to the third, and so on.</p>
<p><strong>Instructions (in <code>main.lua</code>):</strong></p>
<ol type="1">
<li>Make sure your deck is loaded.</li>
<li>Create a variable to hold the winner. To start, assume the first
card is the fastest:
<code>local fastest_card_so_far = deck[1]</code>.</li>
<li>Write an <strong><code>if</code> statement</strong> that compares
<code>deck[2].speed</code> to <code>fastest_card_so_far.speed</code>. If
<code>deck[2]</code> is faster, update <code>fastest_card_so_far</code>
to be <code>deck[2]</code>.</li>
<li>Write <em>another</em> <code>if</code> statement that compares
<code>deck[3].speed</code> to <code>fastest_card_so_far.speed</code>. If
<code>deck[3]</code> is faster, update
<code>fastest_card_so_far</code>.</li>
<li>Repeat this for every card in your deck.</li>
<li>Finally, after all the checks, print out the result:
<code>print("The fastest card is: " .. fastest_card_so_far.name)</code>.</li>
</ol>
<h2 data-number="4.7" id="the-troubleshooting-scroll"><span
class="header-section-number">4.7</span> The Troubleshooting Scroll</h2>
<ul>
<li><strong>Error:</strong> <code>... module 'cards' not found:</code>
<ul>
<li><strong>Meaning:</strong> Your <code>require("cards")</code> command
couldn‚Äôt find the file.</li>
<li><strong>Check:</strong> Is <code>cards.lua</code> in the exact same
folder as <code>main.lua</code>? Is the filename spelled correctly?</li>
</ul></li>
<li><strong>Error:</strong>
<code>... attempt to index a nil value (local 'deck')</code> when using
<code>deck[1]</code>
<ul>
<li><strong>Meaning:</strong> Your <code>deck</code> variable is
empty.</li>
<li><strong>Check:</strong> Did you remember to add
<code>return all_cards</code> at the very end of your
<code>cards.lua</code> file? If you forget, <code>require</code> gets
nothing back.</li>
</ul></li>
<li><strong>Error:</strong> <code>'then' expected near ...</code>
<ul>
<li><strong>Meaning:</strong> This is a syntax error in your
<code>if</code> statement.</li>
<li><strong>Check:</strong> Did you remember to write <code>then</code>
after your condition? The correct structure is
<code>if condition then ... end</code>.</li>
</ul></li>
</ul>
<nav id="sitenav">
<div class="sitenav">
<span class="navlink next">
<span class="navlink-label">Next Up:</span> <a href="5-automating-your-army.html" accesskey="n" rel="next">Automating Your Army üîÅ</a>
</span>
<span class="navlink">
</span>
</div>
<div class="sitenav">
<span class="navlink top">
<a href="index.html" accesskey="t" rel="top">Code &amp; Sorcery: A Lua Card Game Quest</a>
</span>
</div>
</nav>
</body>
</html>
