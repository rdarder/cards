html {
    color: #1a1a1a;
    background-color: #fdfdfd;
}

body {
    /* A modern, clean font stack that prioritizes system fonts */
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", sans-serif;
    line-height: 1.6; /* Increased line height for better readability */
    margin: 0 auto;
    max-width: 42em; /* A comfortable width for reading */
    padding: 50px 25px;
    hyphens: auto;
    overflow-wrap: break-word;
    text-rendering: optimizeLegibility;
    font-kerning: normal;
}

h1, h2, h3, h4, h5, h6 {
    margin-top: 1.5em;
    font-weight: 600; /* A slightly bolder weight for clear headings */
}

/* --- Code Block Styling --- */
/* This targets the main container for code blocks generated by Pandoc */
div.sourceCode {
    background-color: #f6f8fa; /* A faint, greyish background */
    border-radius: 6px;        /* Soft rounded corners */
    border: 1px solid #dfe2e5; /* A light border to complete the "box" feel */
    margin: 1.6em 0;           /* Add some vertical space around code blocks */
    padding: 1em;              /* Padding inside the box so text isn't against the edge */
}

/* Targets the <pre> element which contains the code */
pre.sourceCode, pre {
    margin: 0;                 /* The div provides margin, so the <pre> doesn't need it */
    overflow-x: auto;          /* A fallback for horizontal scrolling if needed */
    white-space: pre-wrap;     /* THIS IS KEY: It preserves whitespace but wraps long lines */
    word-break: break-all;     /* This forces even long, unbreakable strings (like tokens) to wrap */
    page-break-inside: avoid;
}

/* --- Inline Code Styling --- */
/* Styles `<code>` tags that are inside paragraphs or list items, but not in a <pre> block */
:not(pre) > code {
    font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
    font-size: 85%;
    background-color: rgba(27, 31, 35, 0.05); /* A subtle background to lift it from the text */
    border-radius: 3px;
    padding: 0.2em 0.4em; /* A little bit of padding */
}

/* --- Responsive & Print Adjustments (Kept from original) --- */
@media (max-width: 600px) {
    body {
        font-size: 0.9em;
        padding: 12px;
    }
    h1 {
        font-size: 1.8em;
    }
}

@media print {
    html {
        background-color: white;
    }
    body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
    }
    p, h2, h3 {
        orphans: 3;
        widows: 3;
    }
    h2, h3, h4 {
        page-break-after: avoid;
    }
    /* Ensure code blocks don't have a grey background when printed */
    div.sourceCode {
        background-color: transparent !important;
        border: 1px solid #ccc;
    }
}

/* --- Pandoc Syntax Highlighting (Unchanged) --- */
/* This part remains the same as it controls the color of keywords, strings, etc. */
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
/* ... all other syntax highlighting rules ... */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
